!function(e){function t(t){for(var r,l,c=t[0],i=t[1],s=t[2],f=0,p=[];f<c.length;f++)l=c[f],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&p.push(o[l][0]),o[l]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(u&&u(t);p.length;)p.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var i=n[c];0!==o[i]&&(r=!1)}r&&(a.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},o={4:0,1:0,2:0,3:0},a=[];function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var c=window.webpackJsonp=window.webpackJsonp||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=i;a.push([51,0]),n()}({11:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var r=n(0),o=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(h,e);var t,n,r,a,p=(t=h,function(){var e,n=f(t);if(u()){var r=f(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function h(){return l(this,h),p.apply(this,arguments)}return n=h,(r=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12 text-center text-muted"},o.a.createElement("h3",null,"Main page"))))}}])&&c(n.prototype,r),a&&c(n,a),h}(r.Component)},12:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var r=n(0),o=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(h,e);var t,n,r,a,p=(t=h,function(){var e,n=f(t);if(u()){var r=f(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function h(){return l(this,h),p.apply(this,arguments)}return n=h,(r=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12"},o.a.createElement("div",{className:"col-sm-12 text-center text-muted"},o.a.createElement("h3",null,"Scores page")))))}}])&&c(n.prototype,r),a&&c(n,a),h}(r.Component)},13:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Ae}));var r=n(0),o=n.n(r),a=n(9),l=n.n(a),c=["A","B","C","D","E","F","G","H","I","J","K","L"],i=function(e){for(var t=[],n=e-1;n>=0;n--){t[n]=[];for(var r=e-1;r>=0;r--)t[n][r]={id:c[r]+(n+1),x:r,y:n,xLabel:c[r],yLabel:n+1,ship:null,isHit:!1,isShipNeighbor:!1,isKilledShipNeighborCell:!1}}return t},s=function(e){return e.filter((function(e){return e.damage<e.size})).sort((function(e,t){return t.size-e.size}))[0]},u=function(e){return e.filter((function(e){return e.damage<e.size})).length},f=function(e){return e[Math.floor(Math.random()*e.length)]},p=function(e,t){for(var n=[],r=0;r<e.length;r++)for(var o=0;o<e.length;o++){var a=e[r][o];t(a)&&n.push(a)}return n},h=function(e){for(var t=0,n=0;n<e.length;n++)for(var r=0;r<e.length;r++){var o=e[n][r];y(o)||t++}return t},y=function(e){return e&&!e.isHit&&!e.isKilledShipNeighborCell},m=function(e){return p(e,y)},d=function(e){return f(p(e,y))},b=n(5);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(r,e);var t,n=(t=r,function(){var e,n=x(t);if(w()){var r=x(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return S(this,e)});function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),O(E(t=n.call(this,e)),"_collectArrayRooms",(function(e,n,r,o){for(var a=[],l=0;l<=e.length-n;l++){var c=e.slice(l,l+n);if(c.length<n)break;for(var i=!0,s=0;s<c.length-1;s++)if(o(c,s)){i=!1;break}i&&(a.push({roomId:r+"_"+c.map((function(e){return e.id})).join("-"),roomCells:c}),l+=t.state.step-1)}return a})),O(E(t),"_getVFreeRooms",(function(e,n,r){var o=[],a=p(e,r),l=b.a.groupBy(a,(function(e){return e.x}));return Object.keys(l).forEach((function(e){var r=l[e],a=t._collectArrayRooms(r,n,"V",(function(e,t){return e[t].y+1!==e[t+1].y}));a.length>0&&(o=o.concat(a))})),o})),O(E(t),"_getHFreeRooms",(function(e,n,r){var o=[],a=p(e,r),l=b.a.groupBy(a,(function(e){return e.y}));return Object.keys(l).forEach((function(e){var r=l[e],a=t._collectArrayRooms(r,n,"H",(function(e,t){return e[t].x+1!==e[t+1].x}));a.length>0&&(o=o.concat(a))})),o})),O(E(t),"collectRooms",(function(e,n,r){var o=t._getHFreeRooms(e,n,r);console.log("hFreeRooms",o);var a=t._getVFreeRooms(e,n,r);console.log("vFreeRooms",a);o.concat(a);return{hFreeRooms:o,vFreeRooms:a}})),t.state={step:e},t}return r}(r.Component);function R(e){return!e.ship&&!e.isShipNeighbor}function C(e,t,n){N(e,t).forEach((function(e){e[n]=!0}))}var N=function(e,t){for(var n=[],r=t.y-1;r<=t.y+1;r++)if(e[r])for(var o=t.x-1;o<=t.x+1;o++){var a=e[r][o];a&&!a.ship&&n.push(a)}return n},P=function(e,t){for(var n=[],r=0;r<t.length;r++)for(var o=0;o<t.length;o++){var a=t[r][o];a.ship&&a.ship.id===e.id&&n.push(a)}n.forEach((function(e){C(t,e,"isKilledShipNeighborCell")}))};function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t){var n=[];e[t.y-1]&&e[t.y][t.x]&&n.push(e[t.y-1][t.x]),e[t.y+1]&&e[t.y][t.x]&&n.push(e[t.y+1][t.x]),e[t.y]&&e[t.y][t.x-1]&&n.push(e[t.y][t.x-1]),e[t.y]&&e[t.y][t.x+1]&&n.push(e[t.y][t.x+1]);var r=n.filter((function(e){return y(e)}));return f(r)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(r,e);var t,n=(t=r,function(){var e,n=H(t);if(A()){var r=H(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return T(this,e)});function r(){var e;k(this,r);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return z(M(e=n.call.apply(n,[this].concat(o))),"getCells",(function(e,t){if(1===t.length)return D(e,t[0]);var n=t[0],r=t[t.length-1];if(n.x===r.x){var o=t.sort((function(e,t){return e.y-t.y}));n=o[0],r=o[o.length-1];var a=[];return e[n.y-1]&&a.push(e[n.y-1][n.x]),e[r.y+1]&&a.push(e[r.y+1][r.x]),f(a.filter((function(e){return y(e)})))}var l=t.sort((function(e,t){return e.x-t.x}));n=l[0],r=l[l.length-1];var c=[e[n.y][n.x-1],e[r.y][r.x+1]];return f(c.filter((function(e){return y(e)})))})),e}return r}(r.Component);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?K(e):t}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(r,e);var t,n=(t=r,function(){var e,n=J(t);if(G()){var r=J(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Y(this,e)});function r(){var e;I(this,r);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return U(K(e=n.call.apply(n,[this].concat(o))),"getCells",(function(e){return m(e)})),e}return r}(r.Component);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?$(e):t}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(r,e);var t,n=(t=r,function(){var e,n=te(t);if(ee()){var r=te(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Z(this,e)});function r(){var e;Q(this,r);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return ne($(e=n.call.apply(n,[this].concat(o))),"getCells",(function(e,t){var n=s(t).size,r=new _(n).collectRooms(e,n,(function(e){return!e.isHit&&!e.isKilledShipNeighborCell})),o=r.hFreeRooms,a=r.vFreeRooms,l=o.concat(a).flatMap((function(e){var t=e.roomCells;if(Math.floor(t.length/n)>1){for(var r=[],o=n-1;o<t.length;o+=n)r.push(t[o]);return r}return t[Math.floor(t.length/2)]})),c=[];return l.forEach((function(e){0===c.filter((function(t){return t.x===e.x&&t.y===e.y})).length&&c.push(e)})),c})),e}return r}(r.Component);function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?ie(e):t}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e){var t=e.flatMap((function(e){return e.roomCells}));console.log("hiddenCells",t);var n={};return t.forEach((function(t){var r=0;e.forEach((function(e){e.roomCells.forEach((function(e){e.id===t.id&&r++}))})),n[t.id]={id:t.id,count:r,cell:t},r=0})),n}function he(e){var t=[],n=0;return Object.keys(e).forEach((function(r){e[r].count===n&&t.push(e[r].cell),e[r].count>n&&(n=e[r].count,(t=[]).push(e[r].cell))})),t}var ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(r,e);var t,n=(t=r,function(){var e,n=ue(t);if(se()){var r=ue(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return ce(this,e)});function r(){var e;ae(this,r);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return fe(ie(e=n.call.apply(n,[this].concat(o))),"getCells",(function(e,t){var n=s(t).size,r=new _(1).collectRooms(e,n,(function(e){return!e.isHit&&!e.isKilledShipNeighborCell})),o=r.hFreeRooms,a=r.vFreeRooms,l=pe(o.concat(a)),c=he(l);return console.log("map",l),console.log("cellsForShoot",c),c})),e}return r}(r.Component);function me(e,t){return(new re).getCells(e,t)}function de(e,t){return(new ye).getCells(e,t)}var be=function(e,t,n,r){if(n.length>0)return(new F).getCells(e,n);if(h(e)<10)return d(e);if(1===s(t).size)return d(e);var o=[];return 1===r&&(o=function(e){return(new V).getCells(e)}(e)),2===r&&(o=me(e,t)),3===r&&0===(o=de(e,t)).length&&(o=me(e,t)),0===o.length&&(o=d(e)),f(o)};function ve(e){return e.highlightBattleArea?"bg-success":"bg-secondary"}function ge(e,t){var n=[],r=t.isPlayer,o=!t.isPlayer,a=t.stage,l=t.lastShot,c=l&&e.x===l.x&&e.y===l.y;(null===t.stage||o&&"STEP_READY_TO_START"===a)&&(n.push("cell-disabled"),n.push("fa fa-anchor")),o&&"STEP_FINAL"===a&&e.ship&&!e.isHit&&(n.push("cell-ship"),n.push("fa fa-smile-o")),r&&e.ship&&!e.isHit&&(n.push("cell-ship"),n.push("fa fa-anchor")),e.ship&&e.isHit&&e.ship.damage<e.ship.size&&(n.push("cell-ship-wounded"),n.push("fa fa-times")),e.ship&&e.isHit&&e.ship.damage===e.ship.size&&(n.push("cell-ship-killed"),n.push("fa fa-times")),e.ship||e.isHit||!e.isKilledShipNeighborCell||n.push("cell-not-hittable"),c||e.ship||!e.isHit||(n.push("cell-missed-hit"),n.push("cell-not-hittable"),n.push("fa fa-circle-o")),c&&(n.push("text-primary"),n.push("fa fa-crosshairs"));var i=t.recommendedShots.shoots,s=t.recommendedShots.strategy;return i.filter((function(t){return t.x===e.x&&t.y===e.y})).length>0&&(n.push("cell-recommended-shot"),"level3"===s&&n.push("fa fa-bullseye"),"level2"===s&&n.push("fa fa-dot-circle-o")),n}function Se(e,t,n,r){var a=function(e,t){var n=ve(t),r=[];return r.push(o.a.createElement("div",{key:"hh-"+e,className:"col-sm-1 text-center align-middle text-light bg-secondary border border-secondary cell-base battle-field-border "+n},e)),r}(t[0].yLabel,r),l=[];return l.push(o.a.createElement("div",{key:"line-"+e,className:"row"},a,function(e,t,n,r){var a=this,l=[];return t.forEach((function(t){l.push(o.a.createElement("div",{key:e+"_"+t.x+"-"+t.y,className:"col-sm-1 text-center align-middle cell-base cell-text "+ge(t,r).join(" "),onClick:n.bind(a,t),title:t.xLabel+""+t.yLabel+(r.isPlayer&&t.ship?" - "+t.ship.name:"")}))})),l}(e,t,n,r),a)),l}function Ee(e,t,n){var r=[];return r.push(o.a.createElement("div",{key:"h-"+e,className:"row"},function(e,t){var n=[],r=ve(t);return n.push(o.a.createElement("div",{key:"v-left",className:"col-sm-1 border border-secondary cell-base "+r})),e.forEach((function(e){n.push(o.a.createElement("div",{key:"v-"+e.x,className:"col-sm-1 text-center text-light bg-secondary cell-base battle-field-border "+r},e.xLabel))})),n.push(o.a.createElement("div",{key:"v-right",className:"col-sm-1 bg-secondary border border-secondary cell-base "+r})),n}(t[0],n))),r}var we=function(e){for(var t=e.cells,n=e.onCellClick,r=e.options,a=[],l=t.length-1;l>=0;l--)a.push(Se(l,t[l],n,r));return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-12"},Ee("top",t,r),a,Ee("bottom",t,r)))},xe=function(e){var t=e.level,n=e.showShootHints,r=e.onDifficultyChange,a=e.onShowShootHintsChange;return o.a.createElement("div",null,o.a.createElement("div",{className:"row mt-10"},o.a.createElement("div",{className:"col-sm-3 text-center small"},o.a.createElement("span",{className:"text-muted"},"HINTS")),o.a.createElement("div",{className:"col-sm-3 text-center small"},o.a.createElement("span",{className:"text-success"},"EASY")),o.a.createElement("div",{className:"col-sm-3 text-center small"},o.a.createElement("span",{className:"text-warning"},"MEDIUM")),o.a.createElement("div",{className:"col-sm-3 text-center small"},o.a.createElement("span",{className:"text-danger"},"HARD"))),o.a.createElement("div",{className:"row mt-10"},o.a.createElement("div",{className:"col-sm-3 small"},o.a.createElement("input",{type:"checkbox",name:"showShootHints",className:"form-control",checked:n,value:"true",onChange:a})),o.a.createElement("div",{className:"col-sm-3 text-center"},o.a.createElement("input",{type:"radio",name:"difficulty",className:"form-control",value:"1",checked:1===t,onChange:r.bind(void 0,1)})),o.a.createElement("div",{className:"col-sm-3 text-center"},o.a.createElement("input",{type:"radio",name:"difficulty",className:"form-control",value:"2",checked:2===t,onChange:r.bind(void 0,2)})),o.a.createElement("div",{className:"col-sm-3 text-center"},o.a.createElement("input",{type:"radio",name:"difficulty",className:"form-control",value:"3",checked:3===t,onChange:r.bind(void 0,3)}))))};var Oe=function(e){var t=e.ships,n=e.isPlayer,r=[];return t.forEach((function(e){r.push(o.a.createElement("div",{key:"ship-stat-line-"+e.id,className:"row mt-10"},o.a.createElement("div",{key:"ship-stat-col-"+e.id,className:"col-sm-12"},function(e,t){for(var n=[],r=1;r<=4;r++){var a=r<=e.size,l=e.damage===e.size;n.push(o.a.createElement("div",{key:"ship-stat-line-cell-"+e.id+"-"+r+"-"+(t?"-player":"-enemy"),className:"stat-cell"+(a?" stat-cell-ship":"")+(a&&l?" stat-cell-ship-killed":"")+(t?" pull-right":"")}," "))}return n}(e,n))))})),o.a.createElement("div",null,r)};var _e=function(e){var t=e.logs;return o.a.createElement("div",null,function(e){var t=[],n=0;return e.sort((function(e,t){return t.time-e.time})).forEach((function(e){t.push(o.a.createElement("div",{key:"log-row-"+n,className:"row"},o.a.createElement("div",{key:"log-row-col-"+n,className:"col-sm-12 small text-muted"},e.text))),n++})),t}(t))};function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?je(e):t}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Me={time:new Date,text:"Ready for a new fight? Setup your ships on left square (or use Randomize button) then press Start. Click on right square when your move",type:"info"},Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(y,e);var t,n,r,a,c=(t=y,function(){var e,n=Le(t);if(ke()){var r=Le(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Pe(this,e)});function y(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),Te(je(t=c.call(this,e)),"playerCellSetup",(function(e){})),Te(je(t),"startBattle",(function(){var e=t.randomizeBattleFieldWithShips(),n=Math.floor(Math.random()*Math.floor(2));t.state.logs.push(t.createLogRecord("The battle has began! The first move: "+(0===n?"player":"enemy")+". Kill'em all under Jolly Roger!")),1===n&&t.enemyMove(),t.setState({enemyCells:e.cells,enemyShips:e.ships,step:"STEP_BATTLE",currentMove:0===n?"player":"enemy",logs:t.state.logs})})),Te(je(t),"playerShot",(function(e){if("enemy"!==t.state.currentMove){console.log("-= PLAYER SHOOT =-");var n=t.state.step,r=t.state.enemyLastShot,o=t.state.enemyCells,a=t.state.enemyShips,c=o[e.y][e.x];if(c.isHit)return t.state.logs.push(t.createLogRecord("Cell "+e.xLabel+":"+e.yLabel+" has already been hit. Chose another one.")),void t.setState({logs:t.state.logs});if(c.isKilledShipNeighborCell)return t.state.logs.push(t.createLogRecord("Cell "+e.xLabel+":"+e.yLabel+" is a neighbor of killed ship. Chose another one.")),void t.setState({logs:t.state.logs});c.isHit=!0;var i=c.ship;i||(t.state.logs.push(t.createLogRecord("Player's shot: "+e.xLabel+":"+e.yLabel+" (missed)")),t.enemyMove()),i&&(i.damage++,i.damage===i.size?(t.state.logs.push(t.createLogRecord("Player's shot: "+e.xLabel+":"+e.yLabel+" (killed)")),P(i,o)):t.state.logs.push(t.createLogRecord("Player's shot: "+e.xLabel+":"+e.yLabel+" (wounded)")),0===u(a)&&(l.a.fire("You have won","You're just lucky. You will have no chance next time","success"),n="STEP_FINAL")),t.setState({enemyCells:t.state.enemyCells,playerLastShot:e,enemyLastShot:r,currentMove:i?"player":"enemy",logs:t.state.logs,step:n})}})),Te(je(t),"enemyShot",(function(){console.log("-= ENEMY SHOOT =-");var e=t.state.playerCells,n=t.state.playerShips,r=t.state.playerWoundedShipCells,o=!1,a=be(e,n,r,t.state.difficultyLevel);a.isHit=!0;var c=a.ship;c&&(c.damage++,c.damage===c.size?(r=[],t.state.logs.push(t.createLogRecord("Enemy's shot: "+a.xLabel+":"+a.yLabel+" (killed)")),P(c,e),0===u(n)&&(l.a.fire("Enemy has won!","You are loser. Live with this.","error"),o=!0)):(r.push(a),t.state.logs.push(t.createLogRecord("Enemy's shot: "+a.xLabel+":"+a.yLabel+" (wounded)"))),o||t.enemyMove()),c||t.state.logs.push(t.createLogRecord("Enemy's shot: "+a.xLabel+":"+a.yLabel+" (missed)")),t.setState({step:o?"STEP_FINAL":t.state.step,enemyLastShot:a,currentMove:c?"enemy":"player",playerWoundedShipCells:r})})),Te(je(t),"enemyMove",(function(){window.setTimeout((function(){return t.enemyShot()}),500)})),Te(je(t),"randomizeBattleFieldWithShips",(function(){return function(e){var t=[{id:11,name:"Ship 1.1",size:1,cells:[],damage:0},{id:12,name:"Ship 1.2",size:1,cells:[],damage:0},{id:13,name:"Ship 1.3",size:1,cells:[],damage:0},{id:14,name:"Ship 1.4",size:1,cells:[],damage:0},{id:21,name:"Ship 2.1",size:2,cells:[],damage:0},{id:22,name:"Ship 2.2",size:2,cells:[],damage:0},{id:31,name:"Ship 2.3",size:2,cells:[],damage:0},{id:32,name:"Ship 3.1",size:3,cells:[],damage:0},{id:33,name:"Ship 3.2",size:3,cells:[],damage:0},{id:41,name:"Ship 4.1",size:4,cells:[],damage:0}];return t.reverse().forEach((function(t){var n,r=t.size;if(r>1){var o=new _(1).collectRooms(e,r,R),a=o.hFreeRooms.concat(o.vFreeRooms);n=f(a)}else n={roomCells:[f(p(e,R))]};n.roomCells.forEach((function(e){e.ship=t})),n.roomCells.forEach((function(t){C(e,t,"isShipNeighbor")}))})),{cells:e,ships:t}}(i(10))})),Te(je(t),"onNewGameClick",(function(){t.setState(t.getInitialState()),t.state.logs.push(t.createLogRecord("Randomize player's ships"));var e=t.randomizeBattleFieldWithShips();t.setState({playerCells:e.cells,playerShips:e.ships,step:"STEP_READY_TO_START",logs:t.state.logs})})),Te(je(t),"getInitialState",(function(){return{playerCells:i(10),playerShips:[],playerLastShot:null,playerWoundedShipCells:[],enemyCells:i(10),enemyShips:[],enemyLastShot:null,step:null,currentMove:null,isReadyToStart:!1,difficultyLevel:t.state?t.state.difficultyLevel:3,showShootHints:!t.state||t.state.showShootHints,logs:[Me]}})),Te(je(t),"createLogRecord",(function(e){return{time:new Date,text:e}})),Te(je(t),"onDifficultyLevelChanged",(function(e){t.setState({difficultyLevel:e})})),Te(je(t),"onShowShootHintsChange",(function(e){var n=e.target.checked;t.setState({showShootHints:n})})),t.state=t.getInitialState(),t}return n=y,(r=[{key:"componentDidMount",value:function(){window.addEventListener("load",this.onNewGameClick)}},{key:"render",value:function(){var e={isPlayer:!0,stage:this.state.step,lastShot:this.state.enemyLastShot,currentMove:this.state.currentMove,highlightBattleArea:"STEP_BATTLE"===this.state.step&&"enemy"===this.state.currentMove,recommendedShots:{shoots:[],strategy:null}},t=this.state.showShootHints&&"STEP_BATTLE"===this.state.step?function(e,t,n){if(h(e)<10)return{shoots:[],strategy:"no-strategy-for-first-shoots"};if(1===s(t).size)return{shoots:[],strategy:"single-ship-no-strategy"};if(1===n)return{shoots:[],strategy:"level1"};if(2===n)return{shoots:me(e,t),strategy:"level2"};if(3===n){var r=de(e,t);return r.length>0?{shoots:r,strategy:"level3"}:{shoots:me(e,t),strategy:"level2"}}return{shoots:[],strategy:"no-strategy-stub"}}(this.state.enemyCells,this.state.enemyShips,this.state.difficultyLevel):{shoots:[],strategy:"hits-are-disabled"},n={isPlayer:!1,stage:this.state.step,lastShot:this.state.playerLastShot,recommendedShots:t,highlightBattleArea:"STEP_BATTLE"===this.state.step&&"player"===this.state.currentMove,currentMove:this.state.currentMove};return o.a.createElement("div",null,o.a.createElement("div",{className:"row mt-10"},o.a.createElement("div",{className:"col-sm-1"}),o.a.createElement("div",{className:"col-sm-5 text-center text-warning"},o.a.createElement("h4",null,"Player")),o.a.createElement("div",{className:"col-sm-5 text-center text-warning"},o.a.createElement("h4",null,"Enemy")),o.a.createElement("div",{className:"col-sm-1"})),o.a.createElement("div",{className:"row mt-10"},o.a.createElement("div",{className:"col-sm-1"},o.a.createElement(Oe,{ships:this.state.playerShips,isPlayer:!0})),o.a.createElement("div",{className:"col-sm-5"+(e.highlightBattleArea?"":" disabledArea"),disabled:e.highlightBattleArea},o.a.createElement(we,{cells:this.state.playerCells,options:e,onCellClick:this.playerCellSetup})),o.a.createElement("div",{className:"col-sm-5"+(n.highlightBattleArea?"":" disabledArea"),disabled:n.highlightBattleArea},o.a.createElement(we,{cells:this.state.enemyCells,options:n,onCellClick:this.playerShot})),o.a.createElement("div",{className:"col-sm-1"},o.a.createElement(Oe,{ships:this.state.enemyShips,isPlayer:!1}))),o.a.createElement("div",{className:"row mt-10"},o.a.createElement("div",{className:"col-sm-4"},o.a.createElement(xe,{level:this.state.difficultyLevel,showShootHints:this.state.showShootHints,onDifficultyChange:this.onDifficultyLevelChanged,onShowShootHintsChange:this.onShowShootHintsChange})),o.a.createElement("div",{className:"col-sm-4 text-center btn-lg"},o.a.createElement("button",{className:"bg-primary button-rounded",onClick:this.onNewGameClick},"New game"),o.a.createElement("button",{className:"bg-primary button-rounded",onClick:this.startBattle,disabled:"STEP_READY_TO_START"!==this.state.step},"Start")),o.a.createElement("div",{className:"col-sm-4"})),o.a.createElement("div",{className:"row mt-10"},o.a.createElement("div",{className:"col-sm-12"},o.a.createElement(_e,{logs:this.state.logs}))))}}])&&Ce(n.prototype,r),a&&Ce(n,a),y}(r.Component)},49:function(e,t,n){var r=n(21),o=n(50);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1},l=(r(o,a),o.locals?o.locals:{});e.exports=l},50:function(e,t,n){(t=n(22)(!1)).push([e.i,"body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n}\n\n.mt-10 {\n    margin-top: 10px !important;\n}\n\n.mb-10 {\n    margin-bottom: 10px !important;\n}\n\n.cell-text {\n    padding-top: 12px;\n}\n.battle-field-border {\n    padding-top: 6px;\n}\n\n.cell-base {\n    color: silver;\n    background-color: azure;\n    font-size: 20px;\n    border: 1px solid silver;\n    border-radius: 4px;\n    min-width: 30px;\n    height: 40px;\n}\n\n.cell-ship {\n    color: yellow;\n    background-color: cadetblue;\n    box-shadow: 2px 2px grey;\n}\n\n.cell-ship-wounded {\n    color: white;\n    background-color: coral;\n}\n\n.cell-ship-killed {\n    color: white;\n    background-color: crimson;\n}\n\n.cell-missed-hit {\n    color: darkseagreen;\n}\n\n.cell-disabled {\n    background-color: ghostwhite;\n}\n\n.cell-not-hittable {\n    background-color: #dfefef;\n}\n\n.cell-recommended-shot {\n    color: #c1e8e8;\n}\n\n.stat-cell {\n    width: 16px;\n    height: 16px;\n    border-bottom-color: black;\n    float: left;\n    margin: 1px;\n}\n\n.stat-cell-ship {\n    background-color: cadetblue;\n}\n\n.stat-cell-ship-killed {\n    background-color: crimson;\n}\n\n.disabledArea {\n    pointer-events: none;\n    opacity: 0.70;\n}\n\n.button-rounded {\n    border-radius: 7px;\n    width: 150px;\n}\n",""]),e.exports=t},51:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(23),l=n.n(a),c=n(15),i=n(6),s=n(11),u=n(13),f=n(12);function p(){return o.a.createElement(c.a,null,o.a.createElement("div",null,o.a.createElement("div",{className:"row bg-light"},o.a.createElement("div",{className:"col-sm-4 text-center"},o.a.createElement(h,{activeOnlyWhenExact:!0,to:"/home",label:"Main page"})),o.a.createElement("div",{className:"col-sm-4 text-center"},o.a.createElement(h,{activeOnlyWhenExact:!0,to:"/",label:"Battle"})),o.a.createElement("div",{className:"col-sm-4 text-center"},o.a.createElement(h,{activeOnlyWhenExact:!0,to:"/scores",label:"Scores"}))),o.a.createElement(i.c,null,o.a.createElement(i.a,{exact:!0,path:"/home"},o.a.createElement(s.default,null)),o.a.createElement(i.a,{exact:!0,path:"/"},o.a.createElement(u.default,null)),o.a.createElement(i.a,{exact:!0,path:"/scores"},o.a.createElement(f.default,null)))))}function h(e){var t=e.label,n=e.to,r=e.activeOnlyWhenExact,a=Object(i.f)({path:n,exact:r});return o.a.createElement("div",null,o.a.createElement("h4",null,o.a.createElement(c.b,{to:n,style:{textDecoration:"none"},className:a?"active text-danger":"text-dark"},t)))}n(47),n(49);n(34),l.a.render(o.a.createElement(p,null),document.getElementById("js-page-context"))}});